type StakingStash @entity {
  id: ID! # account
  totalRewarded: BigInt!
  rewardeds: [StakingRewarded] @derivedFrom(field: "stash")
}

type StakingRewarded @entity {
  id: ID! # blockNumber-eventIndex
  blockTime: Date!
  blockNumber: Int!
  extrinsicIndex: Int
  eventIndex: Int!

  stash: StakingStash!
  amount: BigInt!
}


type Deposit @entity {
  id: ID! #account address, deposit owner
  records: [DepositRecord] @derivedFrom(field: "account")
}


type DepositRecord @entity {
  id: ID! # accountAddress-depositId
  depositId: Int!
  amount: BigInt!
  startTime: Date!
  expiredTime: Date!
  reward: BigInt!
  account: Deposit! #deposit owner
  blockNumber: Int! #block number this deposit was made
  createdTime: Date!
  penalty: BigInt
  claimTime: Date
}
